{% extends "layouts/base.html" %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}
{% load static %}


{% block title %}
    {{data.objectId}}
{% endblock title %}


{% block content %}



    <div class="container">

        <div class="row mt-4">

            <div class="col-12 mb-4">
                {% include "includes/widget_filter_query_create_header.html" %}
            </div>

            <div class="col-12 mb-4">
                {% include "includes/widget_filter_creation_form.html" %}
            </div>

            <div class="col-12 mb-4">

                {% include "includes/widget_objectlist_table.html" with zerotext="Zero objects have been matched against this filter so far" table=table header="Filter Results"  desc="Here are the filtered objects, limited to "|add:limit|add:" objects" %}
            </div>

            <div class="col-12 mb-4">
                {% include "includes/widget_schema_table.html" %}
            </div>

        </div>
    </div>
    <hr/>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
    <script>

        // example of Tribute in autocomplete mode



        var tributeAttributes = {

            autocompleteMode: true, // DON'T REQUIRE A TRIGGER
            noMatchTemplate: "",
            spaceSelectsMatch: false,
            values: [
                { key: "Alabama", value: "Alabama" },
                { key: "Alaska", value: "Alaska" },
                { key: "Arizona", value: "Arizona" },
                { key: "Arkansas", value: "Arkansas" },
                { key: "California", value: "California" },
                { key: "Colorado", value: "Colorado" },
                { key: "Connecticut", value: "Connecticut" },
                { key: "Delaware", value: "Delaware" },
                { key: "Florida", value: "Florida" },
                { key: "Georgia", value: "Georgia" },
                { key: "Hawaii", value: "Hawaii" },
                { key: "Idaho", value: "Idaho" },
                { key: "Illinois", value: "Illinois" },
                { key: "Indiana", value: "Indiana" },
                { key: "Iowa", value: "Iowa" },
                { key: "Kansas", value: "Kansas" },
                { key: "Kentucky", value: "Kentucky" },
                { key: "Louisiana", value: "Louisiana" },
                { key: "Maine", value: "Maine" },
                { key: "Maryland", value: "Maryland" },
                { key: "Massachusetts", value: "Massachusetts" },
                { key: "Michigan", value: "Michigan" },
                { key: "Minnesota", value: "Minnesota" },
                { key: "Mississippi", value: "Mississippi" },
                { key: "Missouri", value: "Missouri" },
                { key: "Montana", value: "Montana" },
                { key: "Nebraska", value: "Nebraska" },
                { key: "Nevada", value: "Nevada" },
                { key: "New Hampshire", value: "New Hampshire" },
                { key: "New Jersey", value: "New Jersey" },
                { key: "New Mexico", value: "New Mexico" },
                { key: "New York", value: "New York" },
                { key: "North Carolina", value: "North Carolina" },
                { key: "North Dakota", value: "North Dakota" },
                { key: "Ohio", value: "Ohio" },
                { key: "Oklahoma", value: "Oklahoma" },
                { key: "Oregon", value: "Oregon" },
                { key: "Pennsylvania", value: "Pennsylvania" },
                { key: "Rhode Island", value: "Rhode Island" },
                { key: "South Carolina", value: "South Carolina" },
                { key: "South Dakota", value: "South Dakota" },
                { key: "Tennessee", value: "Tennessee" },
                { key: "Texas", value: "Texas" },
                { key: "Utah", value: "Utah" },
                { key: "Vermont", value: "Vermont" },
                { key: "Virginia", value: "Virginia" },
                { key: "Washington", value: "Washington" },
                { key: "West Virginia", value: "West Virginia" },
                { key: "Wisconsin", value: "Wisconsin" },
                { key: "Wyoming", value: "Wyoming" }
            ],
            selectTemplate: function(item) {
                if (typeof item === "undefined") return null;
                if (this.range.isContentEditable(this.current.element)) {
                    return (
                        '<span contenteditable="false"><a>' +
                        item.original.key +
                        "</a></span>"
                    );
                }

                return item.original.value;
            },
            menuItemTemplate: function(item) {
                return item.string;
            }
        };


        var tributeAutocompleteTestArea = new Tribute(
            Object.assign(
                {
                    menuContainer: document.getElementById(
                        "select_div"
                    )
                },
                tributeAttributes
            )
        );
        tributeAutocompleteTestArea.attach(
            document.querySelector("textarea#id_selected")

        );

        if (tributeAutocompleteTestArea.isActive) {
            input.keydown(function(event) {
                if (event.keyCode === 9) {
                    console.log("shit")
                    event.preventDefault();
                }
            })
        };

    </script>
{% endblock javascripts %}

